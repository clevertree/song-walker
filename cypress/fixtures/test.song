const lead=await loadPreset("FluidR3/AcousticGrandPiano")
const osc=await loadPreset("Oscillator", {'type':'square'})
const perc=await loadPreset("FluidR3/DrumKitRoom1")
const reverb=await loadPreset("Reverb")

track1(lead); beat1(); 8;
track1(osc) beat1() 8

track track1(instrument) {
    track.instrument = instrument;
    track.noteDuration=1/4
    C5 /2
    track.pitchBend=-0.4
    track.config={var: 'wut'}
    C4@/4^82 /2  // override duration and velocity
    G4 /2
    Eb4 /2
    Eb5 /2
    F5 /2
    Eb5 /2
    D5 /2
    C5 /2
    C4 /2
    G4 /2
    Eb4 /2
    D5 /2
    C4 /2
    Bb4 /2
}

track beat1() {
    track.instrument=perc
    track.velocityDivisor=10
    chh     abd     /2
    chh^3           /2
    chh^3           /2
    chh     as      /2
    chh^3@/8        /2
    chh     abd     /2
    chh^3   abd^6   /2
    chh     as      /2
    chh^3           /4
    chh^3           /4
    chh     abd     /2
    chh^3           /2
    chh     as      /2
    chh^3           /2
    chh     abd     /2
    chh^3   abd^6   /2
    chh     as      /2
    ohh^3           /2
}
